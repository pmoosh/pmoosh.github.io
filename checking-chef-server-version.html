<html>
  <head>
    <meta content='Checking the version of your Chef Server - Bits and Pieces' property='og:title' />
    <title>Checking the version of your Chef Server - Bits and Pieces</title>
    <link href='/images/fav.png' rel='shortcut icon'>
<link href='http://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css' />
<link href='/css/style.css' rel='stylesheet' type='text/css' />
<link href='/css/syntax.css' rel='stylesheet' type='text/css' />
<link href='/css/responsive.css' rel='stylesheet' type='text/css' />
<!-- - -->
<script src='/javascripts/jquery.js' type='text/javascript'></script>
<script src='/javascripts/pd.js' type='text/javascript'></script>
<script src='/javascripts/basics.js' type='text/javascript'></script>
<script type="text/javascript" src="https://www.google.com/jsapi"></script>
<!-- - -->
<meta content='width=device-width, initial-scale=1.0, user-scalable=no' name='viewport'>
<meta content='text/html; charset=utf-8' http-equiv='content-type' />
<meta content="http://muan.co/images/og.png" property="og:image" />
<meta content="" property="fb:app_id" />

  <meta content='http://www.mooshammer.us/checking-chef-server-version.html' property='og:url' />
  <meta content="Checking the version of your Chef ServerToday I was working on a small open source utility and I needed to get the Ch..." property='og:description' />
  <meta content="article" property="og:type" />

<!-- - -->
<script type='text/javascript'>
  //<![CDATA[
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-57970385-1']);
    _gaq.push(['_trackPageview']);
    
    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  //]]>
</script>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_GB/all.js#xfbml=1&appId=604714799556697";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>

  </head>
  <body>
    <header>
<a id="go-back-home" href="/"><img src="http://en.gravatar.com/userimage/8251015/a52519776e002a849cef92b07eeee86d.png" ></a>
<p>Bits and Pieces</p>
</header>

    <div id='container'>
      <div class="block">
  
    <a target="_top" class="main" href="/about">About</a>
  
    <a target="_blank" class="main" href="https://plus.google.com/u/0/+PeterMooshammer">G+</a>
  
    <a target="_blank" class="main" href="https://github.com/pmoosh">GitHub</a>
  
    <a target="_blank" class="main" href="https://www.twitter.com/pmoosh">Twitter</a>
  
    <a target="_blank" class="main" href="http://www.meetup.com/gdg-silicon-valley/">Google Developer Group Silicon Valley Meetup</a>
  
    <a target="_blank" class="main" href="http://www.meetup.com/The-Bay-Area-Chef-User-Group/">The Bay Area Chef User Group</a>
  
    <a target="_blank" class="main" href="http://www.meetup.com/Bay-Area-Infracoders/">Bay Area Infracoders</a>
  
    <a target="_blank" class="main" href="http://www.meetup.com/Docker-Palo-Alto/">Docker Palo Alto</a>
  
</div>
      <section class="paging">
  
    <div class="left">
      <a href="/adding-two-project-together.html">
        ‹
      </a>
    </div>
  
  
</section>
      <div class="content">
        <section class='post'>
          <h1 class="upcase">
            <div class='date'>28 Mar 2016</div>
            Checking the version of your Chef Server
          </h1>
          <h2 id="checking-the-version-of-your-chef-server">Checking the version of your Chef Server</h2>

<p>Today I was working on a small open source utility and I needed to get the Chef Server version via the knife. So I came up with this:</p>

<figure class="highlight"><pre><code class="language-shell" data-lang="shell">knife <span class="nb">exec</span> -E <span class="s1">'puts api.get("/version")'</span></code></pre></figure>

<p>which gives you the whole picture :-)</p>

<figure class="highlight"><pre><code class="language-shell" data-lang="shell">chef-server 11.1.6

Component               Installed Version   Version GUID                                   Overridden From    
--------------------------------------------------------------------------------------------------------------
bookshelf               1.1.3               git:5d46341765b98f4177e9dd5773bee1e0e11c844b   
bundler                 1.5.3               
cacerts                 2014.01.28          md5:5d108f8ab86afacc6663aafca8604dd3           
chef-expander           11.0.0              git:14b11a96da1273b362f39ab11c411470688a8bd6   
chef-gem                11.12.2             
chef-pedant             1.0.27.1            git:876cee14a341e9ce303555fece0e026028dfd0e0   
chef-server-cookbooks   11.1.6              
chef-server-ctl         11.1.6              
chef-server-schema      1.0.4               git:4dba39eb1040732d0705c34e22fd8ee9af40efae   
chef-server-scripts     11.1.6              
chef-server-webui       11.1.5              git:b48a2d7953390ae2dbec28127c2893f2b6175c0a   
chef-solr               11.0.1              git:bcd45175fd402f3082e7146f94c5d571b0620434   
curl                    7.36.0              md5:643a7030b27449e76413d501d4b8eb57           
erchef                  1.4.1               git:569b56a4725591b15065c62ba6120af43ed60c53   
erlang                  R15B03-1            md5:eccd1e6dda6132993555e088005019f2           
gdbm                    1.9.1               md5:59f6e4c4193cb875964ffbe8aa384b58           
gecode                  3.7.3               md5:7a5cb9945e0bb48f222992f2106130ac           
jre                     7u3-b04             md5:3d3e206cea84129f1daa8e62bf656a28           
libedit                 20120601-3.0        md5:e50f6a7afb4de00c81650f7b1a0f5aea           
libffi                  3.0.13              md5:45f3b6dbc9ee7c7dfbbbc5feba571529           
libgcc                  11.1.6              
libiconv                1.14                md5:e34509b1623cec449dfeb73d7ce9c6c6           
libtool                 2.4                 md5:b32b04148ecdd7344abc6fe8bd1bb021           
libxml2                 2.7.8               md5:8127a65e8c3b08856093099b52599c86           
libxslt                 1.1.26              md5:e61d0364a30146aaa3001296f853b2b9           
libyaml                 0.1.6               md5:5fe00cda18ca5daeb43762b80c38e06e           
makedepend              1.0.5               md5:efb2d7c7e22840947863efaedc175747           
ncurses                 5.9                 md5:8cb9c412e5f2d96bc6f459aa8c6282a1           
nginx                   1.4.4               md5:5dfaba1cbeae9087f3949860a02caa9f           
omnibus-ctl             0.0.7               git:0dae72b0f55f804294e004632ffaea4418d094a5   
openssl                 1.0.1j              md5:f7175c9cd3c39bb1907ac8bba9df8ed3           
pcre                    8.31                md5:fab1bb3b91a4c35398263a5c1e0858c1           
perl                    5.18.1              md5:304cb5bd18e48c44edd6053337d3386d           
pg-gem                  0.17.1              
pkg-config              0.28                md5:aa3c86e67551adc3ac865160e34a2a0d           
popt                    1.16                md5:3743beefa3dd6247a73f8f7a32c14c33           
postgresql              9.2.9               md5:38b0937c86d537d5044c599273066cfc           
preparation             1.0.0               
rabbitmq                2.7.1               md5:34a5f9fb6f22e6681092443fcc80324f           
rebar                   2.0.0               git:1c98f6ccd4adc915167d4302d732d79e4da3d390   retry_use_source   
rsync                   3.0.9               md5:5ee72266fe2c1822333c407e1761b92b           
ruby                    1.9.3-p484          md5:8ac0dee72fe12d75c8b2d0ef5d0c2968           
rubygems                1.8.24              md5:3a555b9d579f6a1a1e110628f5110c6b           
runit                   2.1.1               md5:8fa53ea8f71d88da9503f62793336bc3           
sqitch                  0.973               md5:0994e9f906a7a4a2e97049c8dbaef584           
unicorn                 4.2.0               
util-macros             1.18.0              md5:fd0ba21b3179703c071bbb4c3e5fb0f4           
version-manifest        11.1.6              
version-manifest-json   11.1.6              
xproto                  7.0.25              md5:a47db46cb117805bd6947aa5928a7436           
zlib                    1.2.6               md5:618e944d7c7cd6521551e30b32322f4a           </code></pre></figure>

<p>If you run the same command against a chef server version 12, it will fail as the endpoint does not exist. Not sure what happens when you try to run it against a Chef Server on Version 10, as I don’t have access to one. At least you know the version…..</p>

          <br />
<p>
  Til next time,<br/>
  E.E
  <span class="muted">at 09:47</span>
</p>


        </section>
      </div>
      
        <div class="block">

  <div class="button">
    <a href="https://twitter.com/share" class="twitter-share-button">Tweet</a>
    <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
  </div>

    <div class="button spaced">
      <div class="fb-like" data-send="false" data-layout="button_count" data-width="100" data-show-faces="false" data-font="arial" data-action="like"></div>
    </div>

</div>

      

      
        <div id="disqus_thread"></div>
<script>
/**
* RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
* LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
*/
/*
var disqus_config = function () {
this.page.url = PAGE_URL; // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};
*/
(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');

s.src = '//bitsundpieces.disqus.com/embed.js';

s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>

      
      <div class="block">
  
    <a target="_top" class="main" href="/about">About</a>
  
    <a target="_blank" class="main" href="https://plus.google.com/u/0/+PeterMooshammer">G+</a>
  
    <a target="_blank" class="main" href="https://github.com/pmoosh">GitHub</a>
  
    <a target="_blank" class="main" href="https://www.twitter.com/pmoosh">Twitter</a>
  
    <a target="_blank" class="main" href="http://www.meetup.com/gdg-silicon-valley/">Google Developer Group Silicon Valley Meetup</a>
  
    <a target="_blank" class="main" href="http://www.meetup.com/The-Bay-Area-Chef-User-Group/">The Bay Area Chef User Group</a>
  
    <a target="_blank" class="main" href="http://www.meetup.com/Bay-Area-Infracoders/">Bay Area Infracoders</a>
  
    <a target="_blank" class="main" href="http://www.meetup.com/Docker-Palo-Alto/">Docker Palo Alto</a>
  
</div>
    </div>
    <footer>
  <a href="http://github.com/muan/scribble" class="muted">built with Octopress using Scribble theme</a>
  <br />
  <br />
  <img src="/images/scribble2.png" alt="scribble" /> 
</footer>
  </body>
</html>
